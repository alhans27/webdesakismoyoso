!function(o){"use strict";o(document).ready(function(){n.init(),a.init(),d.init()});var n={init:function(){this.noticeHolder=o(".qodef-admin-notice"),this.noticeHolder.length&&this.handleNotice()},handleNotice:function(){var t=this.noticeHolder.find(".qodef-statistics-button"),e=this.noticeHolder.find("#qi-addons-for-elementor-notice-nonce");t.length&&t.each(function(){var t=o(this),i=t.hasClass("qodef-statistics--allowed")?"allowed":"disallowed";t.on("click",function(t){t.preventDefault(),o.ajax({type:"POST",data:{action:"qi_addons_for_elementor_notice",notice_action:i,nonce:e.val()},url:ajaxurl,success:function(t){"success"===o.parseJSON(t).status&&n.noticeHolder.slideUp("fast")}})})})}},a={init:function(){this.noticeHolder=o(".qodef-admin-review-notice"),this.noticeHolder.length&&this.handleReviewNotice()},handleReviewNotice:function(){var t=this.noticeHolder.find(".qodef-review-button"),n=this.noticeHolder.find("#qi-addons-for-elementor-review-notice-nonce");t.length&&t.each(function(){var i,e=o(this);e.on("click",function(t){"review"!==(i=e.hasClass("qodef-review--already-reviewed-action")?"already-reviewed":e.hasClass("qodef-review--maybe-later-action")?"maybe-later":"review")&&t.preventDefault(),o.ajax({type:"POST",data:{action:"qi_addons_for_elementor_review_notice",review_action:i,nonce:n.val()},url:ajaxurl,success:function(t){"success"===o.parseJSON(t).status&&a.noticeHolder.slideUp("fast")}})})})}},d={init:function(){this.deactivationLink=o("#the-list").find('[data-slug="qi-addons-for-elementor"] span.deactivate a'),this.deactivationModal=o("#qi-addons-for-elementor-deactivation-modal"),this.deactivationLink.length&&this.deactivationModal.length&&this.initModal()},initModal:function(){this.deactivationLink.on("click",function(t){t.preventDefault(),d.deactivationModal.fadeIn("fast")}),this.enableModalCloseFunctionality(),this.initSubmitFunctionality(),this.initSkipFunctionality()},initSubmitFunctionality:function(){var e=this.deactivationModal.find(".qodef-deactivation-modal-button-submit"),n=this.deactivationModal.find(".qodef-deactivation-modal-button-skip"),a=this.deactivationModal.find("#qi-addons-for-elementor-deactivation-nonce");e.length&&e.on("click",function(t){t.preventDefault(),e.addClass("qodef--processing"),n.addClass("qodef--disabled");var i,t=d.deactivationModal.find('input[name="reason_key"]:checked').val();switch(t){case"found_a_better_plugin":i=d.deactivationModal.find('input[name="reason_found_a_better_plugin"]').val();break;case"other":i=d.deactivationModal.find('input[name="reason_other"]').val();break;default:i=""}o.ajax({type:"POST",data:{action:"qi_addons_for_elementor_deactivation",reason:t,additionalInfo:i,nonce:a.val()},url:ajaxurl,success:function(t){o.parseJSON(t);d.deactivatePlugin()}})})},initSkipFunctionality:function(){var i=this.deactivationModal.find(".qodef-deactivation-modal-button-submit"),e=this.deactivationModal.find(".qodef-deactivation-modal-button-skip");e.length&&e.on("click",function(t){t.preventDefault(),e.addClass("qodef--processing"),i.addClass("qodef--disabled"),d.deactivatePlugin()})},deactivatePlugin:function(){location.href=this.deactivationLink.attr("href")},enableModalCloseFunctionality:function(){var t=this.deactivationModal.find(".qodef-deactivation-modal-close");t.length&&t.on("click",function(t){t.preventDefault(),d.deactivationModal.fadeOut("fast")})}}}(jQuery);